1. ML Deliverables

The ML pipeline produces six files.
These are the only inputs required by the backend service.

âœ… 1. user_emb.npy

Shape: (num_users, embedding_dim)

Type: float32

Contains user tower embeddings aligned with uid2idx.json.

âœ… 2. item_emb.npy

Shape: (num_items, embedding_dim)

Type: float32

Contains item tower embeddings aligned with iid2idx.json.

âœ… 3. uid2idx.json

Maps original user_id â†’ row index in user_emb.npy

{
  "AE222BGFMVEFSSH4ECHR5FTL4Z4Q": 0,
  "AE222P4OK5YOASUSK2YPN5PGZYJA": 1
}

âœ… 4. iid2idx.json

Maps original item_id â†’ row index in item_emb.npy

{
  "B0001234": 0,
  "B07XXXXXX": 1
}

âœ… 5. items_meta.parquet

Contains metadata for each item (row order matches item_emb.npy):

item_id	title	price	images	main_category	average_rating	rating_number	â€¦

Used by frontend to display product cards & detail pages.

âœ… 6. loader_ready.csv (NEW)

This file contains raw user interaction data including review text.

Columns include:

user_id_raw â†’ original Amazon user ID

item_id_raw â†’ original Amazon item/asin

rating

timestamp

item_text â†’ review title + review text (split by [SEP])

This file is used to display user reviews on Product Detail Page.

2. Storage Location

All deliverables are stored in Google Drive:

ðŸ”— https://drive.google.com/drive/folders/1cNMCcMAIGHDSoC6N6BkYM3l6Tw3rCCBP?usp=sharing

3. Backend Responsibilities

Backend code is under:

Backend API/backend/app/


Backend is responsible for:

âœ” Loading the ML outputs:

user_emb.npy

item_emb.npy

uid2idx.json

iid2idx.json

items_meta.parquet

loader_ready.csv (for review text)

âœ” Building or loading a FAISS index
âœ” Implementing recall logic

Given a user_id â†’ lookup user embedding

FAISS search top-K similar item embeddings

Join item metadata & reviews

Return to frontend

âœ” Exposing REST APIs

Example:

GET /recommend?user_id=AE222BGFMVEFSSH4ECHR5FTL4Z4Q
GET /item/{item_id}
GET /reviews/{item_id}

âœ” Serving metadata & review text to frontend

4. Frontend Integration
4.1 Product Card (Recommendation List)

Recommended fields (from items_meta):

title

images[0]

price

average_rating

rating_number

main_category

These fields give the best lightweight display for a recommendation result.

4.2 Product Detail Page

The Product Detail Page displays enriched metadata and user review content. (from items_meta.parquet)

title

description

features

categories

images[]

store

details

User Reviews (from loader_ready.csv)

For each review corresponding to this item_id:

user_id_raw â€” reviewer identity

rating â€” their review rating

review_title â€” text before [SEP]

review_body â€” text after [SEP]

Example returned JSON:

{
  "user_id": "AE222BGFMVEFSSH4ECHR5FTL4Z4Q",
  "rating": 5,
  "review_title": "Used it as Bunting",
  "review_text": "It was great. I did a...",
  "timestamp": 1677816285
}


These fields allow the frontend to render a realistic Amazon-style review section.

4.3 User Profile Page

User profile includes only:

user_id

(Optionally) a list of items the user has interacted with or rated
